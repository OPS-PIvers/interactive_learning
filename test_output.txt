
> explicolearning@0.0.0 test:run
> node --max-old-space-size=8192 node_modules/.bin/vitest run


 RUN  v3.2.4 /app

 ❯ src/tests/mobile-ux/PerformanceOptimization.test.tsx (12 tests | 2 failed) 298ms
   ✓ Performance Optimization Tests > CSS Animation Performance > should perform auto-collapse animation efficiently 69ms
   ✓ Performance Optimization Tests > CSS Animation Performance > should handle button press animations efficiently 34ms
   ✓ Performance Optimization Tests > Touch Event Response Time > should respond to touch events quickly 11ms
   ✓ Performance Optimization Tests > Touch Event Response Time > should handle mouse interaction efficiently 1ms
   × Performance Optimization Tests > Memory Usage and Leaks > should not create memory leaks with timer cleanup 55ms
     → expected "clearTimeout" to be called 5 times, but got 0 times
   × Performance Optimization Tests > Memory Usage and Leaks > should cleanup event listeners properly 10ms
     → expected 0 to be greater than or equal to 3
   ✓ Performance Optimization Tests > Bundle Size Impact > should use CSS-only approach for minimal JS overhead 22ms
   ✓ Performance Optimization Tests > Bundle Size Impact > should minimize DOM manipulation 21ms
   ✓ Performance Optimization Tests > Render Performance > should maintain 60fps animation capability 18ms
   ✓ Performance Optimization Tests > Render Performance > should handle rapid state changes efficiently 18ms
   ✓ Performance Optimization Tests > Cross-Device Performance > should perform consistently across mobile devices 29ms
   ✓ Performance Optimization Tests > Cross-Device Performance > should handle desktop performance requirements 6ms
 ❯ src/tests/mobile-ux/MobileUXResponsiveBehavior.test.tsx (13 tests | 3 failed) 342ms
   ✓ Mobile UX Responsive Behavior Tests > iPhone 13 Mobile Testing (390x844) > should apply mobile CSS classes correctly 141ms
   × Mobile UX Responsive Behavior Tests > iPhone 13 Mobile Testing (390x844) > should implement auto-collapse behavior with 3-second timer 38ms
     → [2mexpect([22m[31melement[39m[2m).toHaveClass([22m[32m[32m"collapsed"[32m[39m[2m)[22m

Expected the element to have class:
[32m  collapsed[39m
Received:
[31m  viewer-footer-toolbar fixed bottom-0 left-0 right-0 bg-gradient-to-t from-slate-900/95 via-slate-800/90 to-transparent backdrop-blur-sm border-t border-slate-700/50 transform transition-transform duration-300 ease-in-out z-[9999][39m
   ✓ Mobile UX Responsive Behavior Tests > iPhone 13 Mobile Testing (390x844) > should reset collapse timer on user interaction 13ms
   ✓ Mobile UX Responsive Behavior Tests > iPhone 13 Mobile Testing (390x844) > should have proper touch target sizes (≥44px) 35ms
   ✓ Mobile UX Responsive Behavior Tests > Desktop Chrome Testing (1280x720) > should not auto-collapse on desktop 13ms
   ✓ Mobile UX Responsive Behavior Tests > Desktop Chrome Testing (1280x720) > should maintain full toolbar visibility 10ms
   ✓ Mobile UX Responsive Behavior Tests > iPad Tablet Testing (768x1024) > should handle tablet breakpoint behavior correctly 8ms
   ✓ Mobile UX Responsive Behavior Tests > CSS Classes and Integration > should use centralized z-index system 27ms
   ✓ Mobile UX Responsive Behavior Tests > CSS Classes and Integration > should apply slide-components.css mobile styles 9ms
   × Mobile UX Responsive Behavior Tests > Performance and Cleanup > should properly cleanup event listeners 9ms
     → expected "addEventListener" to be called with arguments: [ 'touchstart', Any<Function>, …(1) ][90m

Number of calls: [1m0[22m
[39m
   × Mobile UX Responsive Behavior Tests > Performance and Cleanup > should clear timers on unmount 6ms
     → expected "clearTimeout" to be called at least once
   ✓ Mobile UX Responsive Behavior Tests > Navigation Functionality > should handle slide navigation correctly 18ms
   ✓ Mobile UX Responsive Behavior Tests > Navigation Functionality > should show progress indicators 11ms
 ✓ src/tests/buildIntegrity/ComponentCompilation.test.tsx (18 tests) 1453ms
   ✓ Component Compilation Integrity Tests > Critical Path Component Loading > all critical components can be loaded simultaneously  1396ms
 ✓ src/tests/buildIntegrity/ReactHooksCompliance.test.tsx (10 tests) 434ms
 ✓ src/tests/ViewerFooterToolbar.test.tsx (18 tests) 531ms
 ✓ src/tests/buildIntegrity/ImportExportIntegrity.test.ts (16 tests) 559ms
   ✓ Import/Export Integrity Tests > Component Module Structure > SlideBasedInteractiveModule has default export  401ms
 ✓ src/tests/coreFunctionality/SlideEditingWorkflow.test.tsx (6 tests) 223ms
 ✓ src/tests/ReactErrorDetection.test.tsx (8 tests) 254ms
 ✓ src/tests/coreFunctionality/UnifiedSlideEditor.test.tsx (4 tests) 478ms
 ✓ src/tests/safeMathUtils.test.ts (23 tests) 21ms
 ✓ src/tests/InteractiveModule.test.tsx (2 tests) 86ms
 ✓ src/tests/firebaseApi.validation.test.ts (10 tests) 13ms
 ✓ src/tests/ResponsivePosition.test.ts (20 tests) 16ms
 ✓ src/tests/firebaseApi.test.ts (9 tests) 15ms
 ✓ src/tests/buildIntegrity/TypeScriptIntegrity.test.ts (16 tests) 12ms
 ✓ src/tests/slideDeckUtils.test.ts (3 tests) 8ms
 ↓ src/tests/integration/ConcurrentOperations.test.ts (7 tests | 7 skipped)
 ↓ src/tests/integration/FirebaseIntegration.test.ts (8 tests | 8 skipped)

 Test Files  2 failed | 14 passed | 2 skipped (18)
      Tests  5 failed | 183 passed | 15 skipped (203)
   Start at  03:14:30
   Duration  12.56s (transform 3.79s, setup 3.03s, collect 5.88s, tests 4.74s, environment 13.40s, prepare 2.51s)
